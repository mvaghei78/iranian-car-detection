# partdcExchangeCodal

پروژه داده گیری اطلاعیه های سازمان بورس اوراق بهادار

کدال در واقع مخفف عبارت انگلیسی Comprehensive Database Of All Listed Companies بوده که به معنای سامانه یا پایگاه اطلاعات جامع شرکت‌های پذیرفته شده(فهرست شده در بورس) است. این سامانه در واقع یک سامانه الکترونیکی است که  رابط‌های برنامه‌نویسی (API) شرکت رایان بورس در بستر معماری REST پیاده‌سازی شده و در کلیه زبان‌های برنامه‌نویسی از طریق فرمتی استاندارد قابل فراخوانی و استفاده است.
توضیحات لازم برای فراخوانی و استفاده از این سرویس ها در صفحه ی چروژه ی کدال در آدرس زیر قابل مشاهده میباشد.


### منابع دریافت اطلاعیه ها
0. دریافت توکن :https://api.rbcapi.ir/login
1. https://api.rbcapi.ir/codal/statements  : دریافت اطلاعیه های سازمان بورس اوراق بهادار
2. https://rbcapi.ir : دریافت لیست انواع اطلاعیه های سازمان بورس و اوراق بهادار
------------

# ویژگی های سرویس ها
- زمان بندی اجرای سرویس ها
	- سرویس دریافت اطلاعیه های روزانه از ساعت 8-18 هر 30 ثانیه یک بار
	- سرویس دریافت اطلاعیه های روزانه از ساعت 18-24 هر 5 دقیقه یک بار
	- سرویس دریافت لیست انواع اطلاعیه ها هر روز یک بار
	- سرویس به روز رسانی کلید های جست و جو هر روز یک بار
	- سرویس ایجاد نگاشت شناسه ها با توجه به درخواست ایجاد رکورد توسط تیم مالی
	- سرویس دریافت جزعیات اطلاعیه ها با توجه به درخواست تیم مالی
	- لازم به یاد آوری میباشد که با توجه به محدودیت تعداد درخواست به api های شرکت رایان بورس تعداد درخواست ها در ساعاتی از روز که تعداد اطلاعیه های منتشر شده بیشتر میباشد افزایش یافته و در مابقی روز کاهش می یابد
	- همچنین به دلیل همین محدودیت سرویس داده گیری کدال فقط در محیط عملیات در حال اجرا میباشد
	- درخواست های دریافت توکن در شمارش تعداد درخواست ها محسوب نمیشوند

-  دریافت اطلاعیه های سازمان بورس و اوراق بهادار از سایت rbcapi.ir
	- دریافت اطلاعیه های منتشر شده روزانه توسط api  خریداری شده
	- در صورت منقضی شدن توکن در اجرای بعدی توکن جدید توسط فریم ورک داده گیری دوباره بازنشانی خواهد شد
	- در صورت درخواست بیش تر از حد مجاز روزانه سرویس تا پایان روز غیر فعال خواهد بود
	- در صورت پایان اعتبار ریالی پنل ، سرویس تا پایان روز جاری غیر فعال خواهد شد
	- آرشیو جزعیات اطلاعیه ها تا تاریخ 1399/07/30 از شرکت رایان بورس خریداری شده و در پایگاه داده قرار گرفته است
	- از این تاریخ به بعد و با توجه به درخواست تیم مالی جزعیات اطلاعیه ها دریافت خواهد شد
		
-  آدرس فایل های کران بروی محیط عملیاتی
	
	- prod:cron-prod.partdp.ir/service/cron/get?org=partdcExchangeCodal


# نیازمندی های محیط عملیاتی
```
نیازمند دیتابیس های ردیس و مانگو
ram 24GB
cpu: 12 core
نیازمند پیکربندی مانگو برای بهینه سازی استفاده از رم
    configure wiredTiger = 3Gb
    configure sowap : 4Gb	
```

# آدرس دامنه ها

- http://partdcexchangecodal.partdp.ir
- http://partdcexchangecodal-prod.partdp.ir



#  ماشین ها
|  Envirement | Address  | Port  | Username  |
| ------------ | ------------ | ------------ | ------------ |
|prod| 192.168.15.114 | 22 | log |



# ارتباط با بخش پشتیبانی
|  Name |  Rocket Id | Phone  |
| ------------ | ------------ | ------------ |
|  reza shabani | reza.shabani   | 09105102443  |



